<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Basic unit converter</title>
</head>
<body>
  <h1>Unit Converter</h1>
  <p>Convert from Fahrenheit to Celsius</p>
  <div>
    <p>Fahrenheit: <input type="text" name="fahrenheit" id="fahrenheit"> <button id="convertToCelsius">Convert</button></p>
    <p>Celsius: <input type="text" name="celsius" id="celsius"> <button id="convertToFahrenheit">Convert</button></p>
  </div>
  <div>
    <p id="error"></p>
  </div>

  <script>
    function toCelsius (fahrenheit) {
      return (fahrenheit - 32) / 1.8
    }
    function toFahrenheit (celsius) {
      return celsius * 1.8 + 32
    }
    function writeError (message = '') {
      document.getElementById('error').innerHTML = message
    }
    function clearError () {
      writeError('')
    }
    function isValid (input) {
      return Boolean(input.match(/^-?\d[\d\.]*$/))
    }

    var fahrenheitInput = document.getElementById('fahrenheit')
    var toCelsiusButton = document.getElementById('convertToCelsius')
    var celsiusInput = document.getElementById('celsius')
    var toFahrenheitButton = document.getElementById('convertToFahrenheit')

    toCelsiusButton.addEventListener('click', function () {
      if (isValid(fahrenheitInput.value)) {
        let fahrenheit = parseInt(fahrenheitInput.value)
        celsiusInput.value = toCelsius(fahrenheit)
        clearError()
      } else {
        celsiusInput.value = ''
        writeError('The input for fahrenheit is not valid.')
      }
    })
    toFahrenheitButton.addEventListener('click', function () {
      if (isValid(celsiusInput.value)) {
        let celsius = parseInt(celsiusInput.value)
        fahrenheitInput.value = toFahrenheit(celsius)
        clearError()
      } else {
        fahrenheitInput.value = ''
        writeError('The input for celsius is not valid.')
      }
    })
  </script>
</body>
</html>